prompt --application/deployment/install/install_uta_db_design
begin
wwv_flow_api.create_install_script(
 p_id=>wwv_flow_api.id(22756910890787724)
,p_install_id=>wwv_flow_api.id(38136013306974055)
,p_name=>'UTA_DB_DESIGN'
,p_sequence=>10
,p_script_type=>'INSTALL'
,p_script_clob=>wwv_flow_string.join(wwv_flow_t_varchar2(
'-- create tables',
'create table uta_test_run (',
'    id                             number generated by default on null as identity  ',
'                                   constraint uta_test_run_id_pk primary key,',
'    test_run_start_date            date,',
'    test_run_end_date              date,',
'    test_run_result_xml            clob,',
'    total_tests                    number,',
'    disabled_tests                 number,',
'    errored_tests                  number,',
'    failed_tests                   number,',
'    duration_sec                   VARCHAR2(20 char)',
');',
'',
'',
'create table uta_test_suite (',
'    uta_test_run_id                number',
'                                   constraint uta_test_suit_uta_test_run_fk',
'                                   references uta_test_run on delete cascade,',
'    id                             number generated by default on null as identity  ',
'                                   constraint uta_test_suite_id_pk primary key,',
'    package_path                   varchar2(100 char),',
'    testsuite_name                 varchar2(255 char),',
'    testsuite_id                   number,',
'    total_tests                    number,',
'    disabled_tests                 number,',
'    errored_tests                  number,',
'    failed_tests                   number,',
'    duration_sec                   varchar2(20 char),',
'    system_out                     varchar2(4000 char),',
'    system_err                     varchar2(4000 char),',
'    tsu_id                         number',
');',
'',
'',
'create table uta_test_case (',
'    uta_test_suite_id              number',
'                                   constraint uta_test_case_uta_test_suit_fk',
'                                   references uta_test_suite on delete cascade,',
'    id                             number generated by default on null as identity  ',
'                                   constraint uta_test_case_id_pk primary key,',
'    testcase_path                  varchar2(255 char),',
'    testcase_name                  varchar2(255 char),',
'    test_status                    varchar2(20 char),',
'    assertions                     number,',
'    duration_sec                   VARCHAR2(20 char),',
'	executed_on                    date,',
'    error_statement                varchar2(4000 char),',
'    failure_statement              varchar2(4000 char),',
'    system_out                     varchar2(4000 char),',
'    system_err                     varchar2(4000 char)',
');',
'',
'',
'-- Indexes',
'create index uta_test_case_i1 on uta_test_case (uta_test_suite_id);',
'create index uta_test_suite_i1 on uta_test_suite (uta_test_run_id);',
'',
'/',
'',
'',
''))
);
end;
/
